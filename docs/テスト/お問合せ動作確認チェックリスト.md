# お問合せ機能 動作確認チェックリスト

## 1. 画面表示確認
- [ ] **フォーム画面の表示**
  - URL `/contact` にアクセスし、お問合せフォームが正しく表示されること。
  - タイトル「お問合せ」が表示されていること。
  - 以下の入力項目が存在すること：
    - 名前
    - メールアドレス
    - 件名
    - 本文
  - 「送信」ボタンと「トップページに戻る」ボタンが表示されていること。

## 2. バリデーション確認
- [ ] **必須項目の未入力チェック**
  - 全ての項目を空欄のまま「送信」ボタンを押下した際、各項目に「〜を入力してください」等のエラーメッセージが表示されること。
- [ ] **メールアドレス形式チェック**
  - メールアドレス欄に不正な形式（例: `test`, `test@`, `test.com`）を入力して送信しようとした際、「正しいメールアドレスを入力してください」等のエラーメッセージが表示されること。
- [ ] **エラーのクリア**
  - エラーが表示された状態で正しい値を入力した際、エラー表示が消えること。

## 3. 送信処理確認
- [ ] **送信成功時の挙動**
  - 正しい内容を入力して「送信」ボタンを押下した後、ローディング表示（送信中...）になること。
  - 送信完了後、画面に「お問合せを送信しました。ご連絡ありがとうございます。」等の成功メッセージが表示されること。
  - 送信完了後、入力フォームの内容がクリアされること。

## 4. データ・通知確認
> ※この確認を行うには `.env.local` に正しい SMTP 設定と MongoDB 接続文字列が設定されている必要があります。

- [ ] **管理者へのメール受信確認**
  - 設定した管理者メールアドレス（`ADMIN_EMAIL`）宛に通知メールが届いていること。
  - メールの件名が `[お問合せ] {入力した件名}` となっていること。
  - メールの本文に、入力した「名前」「メールアドレス」「件名」「本文」が正しく記載されていること。
- [ ] **MongoDBへのデータ保存確認**
  - MongoDB データベースの `contacts` コレクションに新しいドキュメントが追加されていること。
  - 保存されたドキュメントの `name`, `email`, `subject`, `message` が入力内容と一致していること。
  - `createdAt` フィールドに送信日時が記録されていること。
